<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DentalAI - Карточки пациентов</title>
  <link rel="stylesheet" href="../../styles/main.css">
  <link rel="stylesheet" href="patients.css">
</head>
<body>
<div class="header">
  <div class="header-logo">DentalAI</div>
  <div class="header-title">КАРТОТЕКА ПАЦИЕНТОВ</div>
  <div class="header-user" onclick="window.location.href='../acc/acc.html'" style="cursor: pointer;">
    <div class="user-avatar">ИИ</div>
    <div id="userFullName">Иванов И.И.</div>
  </div>
</div>

<div class="container">
  <div class="sidebar">
    <ul class="sidebar-menu">
      <li class="sidebar-menu-item">
        <a href="../dashboard/dashboard.html">План амбулаторного приема</a>
      </li>
      <li class="sidebar-menu-item">
        <a href="../analysis/analysis.html">Анализ снимков</a>
      </li>
      <li class="sidebar-menu-item section">ПАЦИЕНТЫ</li>
      <li class="sidebar-menu-item active">
        <a href="patients.html">Карточки пациентов</a>
      </li>
      <li class="sidebar-menu-item">
        <a href="../patient-search/patient-search.html">Поиск пациента</a>
      </li>
      <li class="sidebar-menu-item">
        <a href="../new-patient/new-patient.html">Новый пациент</a>
      </li>
      <li class="sidebar-menu-item section">ДОКУМЕНТЫ</li>
      <li class="sidebar-menu-item">
        <a href="../conclusions/conclusions.html">Заключения</a>
      </li>
      <li class="sidebar-menu-item">
        <a href="../prescriptions/prescriptions.html">Назначения</a>
      </li>
      <li class="sidebar-menu-item">
        <a href="reports.html">Отчеты</a>
      </li>
      <li class="sidebar-menu-item section">СИСТЕМА</li>
      <li class="sidebar-menu-item">
        <a href="ai-statistics.html">Статистика ИИ</a>
      </li>
      <li class="sidebar-menu-item">
        <a href="settings.html">Настройки</a>
      </li>
      <li class="sidebar-menu-item">
        <a href="../login/login.html">Выход</a>
      </li>
    </ul>
  </div>

  <div class="main-content">
    <div class="page-header">
      <h1 class="page-title">Картотека пациентов</h1>
      <div class="page-actions">
        <button id="addPatientBtn">Добавить пациента</button>
      </div>
    </div>

    <div class="search-container">
      <div class="search-box">
        <input type="text" class="search-input" placeholder="Введите ФИО, номер карты или телефон">
        <button class="search-button">Поиск</button>
      </div>
      <button class="filter-button" id="filterBtn">Фильтры</button>
    </div>

    <div class="filter-panel" id="filterPanel" style="display: none;">
      <!-- Здесь можно добавить фильтры по статусу, дате рождения, дате последнего посещения и т.д. -->
      <div style="color: #888; font-size: 14px;">
        Фильтры пока не реализованы. Здесь можно добавить фильтрацию по статусу, дате рождения, дате последнего посещения и другим параметрам.
      </div>
    </div>

    <table class="patients-table">
      <thead>
      <tr>
        <th>ФИО</th>
        <th>Дата рождения</th>
        <th>Номер карты</th>
        <th>Телефон</th>
        <th>Последний диагноз</th>
        <th>Последнее посещение</th>
        <th>Статус</th>
        <th>Действия</th>
      </tr>
      </thead>
      <tbody>
      <!-- Содержимое таблицы пациентов -->
      </tbody>
    </table>

    <div class="pagination">
      <button class="pagination-button">&lt;</button>
      <button class="pagination-button active">1</button>
      <button class="pagination-button">2</button>
      <button class="pagination-button">3</button>
      <button class="pagination-button">...</button>
      <button class="pagination-button">10</button>
      <button class="pagination-button">&gt;</button>
    </div>
  </div>
</div>

<!-- Модальное окно добавления пациента -->
<div class="modal" id="addPatientModal">
  <div class="modal-content">
    <div class="modal-header">
      <span class="modal-title">Добавить пациента</span>
      <button class="close-button" id="closeModalBtn">&times;</button>
    </div>
    <form id="addPatientForm">
      <div>
        <label>ФИО</label>
        <input type="text" id="patientName" required>
      </div>
      <div>
        <label>Дата рождения</label>
        <input type="date" id="patientDob" required>
      </div>
      <div>
        <label>Номер карты</label>
        <input type="text" id="patientCard" required>
      </div>
      <div>
        <label>Телефон</label>
        <input type="tel" id="patientPhone" required>
      </div>
      <div>
        <label>Последний диагноз</label>
        <input type="text" id="patientDiagnosis">
      </div>
      <div>
        <label>Последнее посещение</label>
        <input type="date" id="patientLastVisit">
      </div>
      <div>
        <label>Статус</label>
        <select id="patientStatus">
          <option value="active">Активен</option>
          <option value="waiting">В ожидании</option>
          <option value="inactive">Неактивен</option>
        </select>
      </div>
      <div style="margin-top:15px; text-align:right;">
        <button type="submit" class="apply-button">Добавить</button>
      </div>
    </form>
  </div>
</div>

<script src="patients.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var fullName = localStorage.getItem('user_fullname');
    if (fullName) {
      var el = document.getElementById('userFullName');
      if (el) el.textContent = fullName;
    }
  });
</script>
</body>
</html>